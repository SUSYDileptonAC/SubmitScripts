{
"activeFilters": ["basicVertices","beamScraping", "HLTHT"],
"order":["hlt","beamscraping","vertices","electrons","muons","taus","jets","met","dileptonfilter"],

"additionalFilters":{
        "HT": ["HTFilter350"],
        "HTMET": ["HTFilter350", "METFilter150"],

	"HTMETSSEE": ["HTFilter350", "METFilter150", "SSEE"],
	"HTMETSSMuMu": ["HTFilter350", "METFilter150", "SSMuMu"],
	"HTMETSSEMu": ["HTFilter350", "METFilter150", "SSEMu"],	
	"HTMETSSETau": ["HTFilter350", "METFilter150", "SSETau"],
	"HTMETSSMuTau": ["HTFilter350", "METFilter150", "SSMuTau"],
	"HTMETSSTauTau": ["HTFilter350", "METFilter150", "SSTauTau"],	

	"HTMETSSanyEMu": ["HTFilter350", "METFilter150", "SSanyEMu"],
	"HTMETSSanyEMuTau": ["HTFilter350", "METFilter150", "SSanyEMuTau"],

	"HTMETOSEE": ["HTFilter350", "METFilter150", "OSEE"],
	"HTMETOSMuMu": ["HTFilter350", "METFilter150", "OSMuMu"],
	"HTMETOSEMu": ["HTFilter350", "METFilter150", "OSEMu"],	
	"HTMETOSETau": ["HTFilter350", "METFilter150", "OSETau"],
	"HTMETOSMuTau": ["HTFilter350", "METFilter150", "OSMuTau"],
	"HTMETOSTauTau": ["HTFilter350", "METFilter150", "OSTauTau"],	

	"HTMETOSanyEMu": ["HTFilter350", "METFilter150", "OSanyEMu"],
	"HTMETOSanyEMuTau": ["HTFilter350", "METFilter150", "OSanyEMuTau"],
},

"hlt":[
    {  "srcNames": "hltResults",
       "selector": "triggerSelection",
        "hltResults": InputTag("TriggerResults","","HLT"),
        "name": "HLTHT",
        "triggerConditions": ["HLT_HT100U OR HLT_HT140U OR HLT_HT140U_Eta3_v* OR HLT_HT150U_v* OR HLT_HT150U_Eta3_v*"],
        "throw": False,
    },
    {  "srcNames": "hltResults",
       "selector": "triggerSelection",
        "hltResults": InputTag("TriggerResults","","HLT"),
        "name": "HLTElectrons",
        "triggerConditions": ['(HLT_Ele17_SW_TightEleId_L1R OR HLT_Ele17_SW_TighterEleId_L1R_v1 OR HLT_DoubleEle15_SW_L1R_v1 OR HLT_DoubleEle17_SW_L1R_v1 OR HLT_Ele17_SW_TightCaloEleId_Ele8HE_L1R_v1 OR HLT_Ele17_SW_TightCaloEleId_SC8HE_L1R_v1 OR HLT_DoubleEle10_SW_L1R OR HLT_DoubleEle5_SW_L1R OR HLT_Ele17_SW_CaloEleId_L1R OR HLT_Ele17_SW_EleId_L1R OR HLT_Ele17_SW_LooseEleId_L1R OR HLT_Ele15_SW_CaloEleId_L1R OR HLT_Ele15_SW_EleId_L1R OR HLT_Ele15_SW_L1R OR HLT_Ele15_LW_L1R OR HLT_Ele20_SW_L1R OR HLT_Ele10_SW_EleId_L1R OR HLT_Ele10_LW_EleId_L1R OR HLT_Ele10_LW_L1R OR HLT_Ele10_SW_L1R OR HLT_Ele17_SW_TighterEleIdIsol_L1R_v2 OR HLT_Ele22_SW_TighterEleId_L1R_v2 OR HLT_Ele32_SW_TightCaloEleIdTrack_L1R_v1 OR HLT_Ele32_SW_TighterEleId_L1R_v2 OR HLT_Ele27_SW_TightCaloEleIdTrack_L1R_v1 OR HLT_Ele22_SW_TighterCaloIdIsol_L1R_v2 OR HLT_Ele22_SW_TighterEleId_L1R_v3 OR HLT_Ele22_SW_TighterCaloIdIsol_L1R_v2) AND NOT (HLT_Mu9 OR HLT_Mu11 OR HLT_Mu15 OR HLT_Mu9_v1 OR HLT_Mu11_v1 OR HLT_Mu15_v1 OR HLT_DoubleMu3 OR HLT_DoubleMu3_v2 OR HLT_DoubleMu5_v1 OR HLT_Mu5_Ele5_v1 OR HLT_Mu5_Ele9_v1 OR HLT_Mu11_Ele8_v1 OR HLT_Mu8_Ele8_v1 OR HLT_Mu5_Ele13_v2 OR HLT_Mu5_Ele13_v2 OR HLT_Mu5_Ele17_v1 OR HLT_Mu17_v1 OR HLT_Mu19_v1)'],
        "throw": False,
    },
    {  "srcNames": "hltResults",
       "selector": "triggerSelection",
        "hltResults": InputTag("TriggerResults","","HLT"),
        "name": "HLTMuons",
        "triggerConditions": ['HLT_Mu9 OR HLT_Mu11 OR HLT_Mu15 OR HLT_Mu9_v1 OR HLT_Mu11_v1 OR HLT_Mu15_v1 OR HLT_DoubleMu3 OR HLT_DoubleMu3_v2 OR HLT_DoubleMu5_v1 OR HLT_Mu5_Ele5_v1 OR HLT_Mu5_Ele9_v1 OR HLT_Mu11_Ele8_v1 OR HLT_Mu8_Ele8_v1 OR HLT_Mu5_Ele13_v2 OR HLT_Mu5_Ele13_v2 OR HLT_Mu5_Ele17_v1 OR HLT_Mu17_v1 OR HLT_Mu19_v1'],
        "throw": False,
    },
],
"vertices":[
    {   "src": "offlinePrimaryVertices",
        "name": "basicVertices",
        "cut": "!isFake && ndof > 4 && abs(z) <= 24 && position.Rho <= 2"
    },
],
"beamscraping":[
    {   "srcNames": "debugOn",
        "debugOn": False,
        "name": "beamScraping"
    },
],

"muons": [
# PF Muons
#==========
	{	"src": "selectedPatMuonsTriggerMatchPF",
		"name": "basicMuons",
		"cut": "abs( eta ) <= 2.4 & pt >= 5"
	},
	{	"name": "globalMuons",
		"cut": "muonID( 'AllGlobalMuons' )"
	},
	{	"name": "qualityMuons",
		"cut": "muonID( 'GlobalMuonPromptTight' ) & track.numberOfValidHits >= 11. & isTrackerMuon & numberOfMatches > 1 & innerTrack().hitPattern().numberOfValidPixelHits() > 1"
	},
	{	"name": "d0Muons",
		"srcNames": "src beamSpotSource",
		"selector": "PATMuonD0PVSelector",
                "d0Min": -1.,
                "d0Max": 0.02,
                "dZMin": -1.,
                "dZMax": 1.,
		"beamSpotSource": "(vertices)",
	},
	{	"name": "IsoMuons",
		"cut": "(chargedHadronIso + photonIso + neutralHadronIso) / pt <= 0.2"
	},
	{	"name": "matchedMuons",
		"cut": "genParticlesSize != 0"
	},
	{	"name": "chCorrectMuons",
		"cut": "genLepton.charge == charge",
		"skip": True
	},
	{	"name": "chWrongMuons",
		"cut": "genLepton.charge != charge",
	},

# PAT Muons
#===========
    	{	"src": "cleanPatMuonsTriggerMatch",
		"name": "basicMuonsPAT",
		"cut": "abs( eta ) <= 2.4 & pt >= 5"
	},
	{	"name": "globalMuonsPAT",
		"cut": "muonID( 'AllGlobalMuons' )"
	},
	{	"name": "qualityMuonsPAT",
		"cut": "muonID( 'GlobalMuonPromptTight' ) & track.numberOfValidHits >= 10. & normChi2 < 10 & isTrackerMuon"
	},
	{	"name": "d0MuonsPAT",
		"srcNames": "src beamSpotSource",
		"selector": "PATMuonD0PVSelector",
                "d0Min": -1.,
                "d0Max": 0.02,
                "dZMin": -1.,
                "dZMax": 1.,
		"beamSpotSource": "(vertices)",
	},
	{	"name": "IsoMuonsPAT",
		"cut": """
                (isolationR03().hadEt + isolationR03().emEt + isolationR03().sumPt) / max(pt,20.) <= 0.10
                 & isolationR03().emVetoEt <= 4 & isolationR03().hadVetoEt <= 6
                 """
	},
    	{	"name": "IsoMuons20PAT",
                "skip": True,
		"cut": "abs( eta ) <= 2.4 & pt >= 20"
	},
	{	"name": "matchedMuonsPAT",
		"cut": "genParticlesSize != 0"
	},
	{	"name": "chCorrectMuonsPAT",
		"cut": "genLepton.charge == charge",
		"skip": True
	},
	{	"name": "chWrongMuonsPAT",
		"cut": "genLepton.charge != charge",
	},
],

"electrons" : [
# PF Electrons
#==============
	{	"src": "selectedPatElectronsTriggerMatchPF",
            "selector": "pfPatElectrons",
            "name": "CorrElectrons"},
	{	"name": "ESeededElectrons",
		"cut": "ecalDrivenSeed",
	},
	{#	"src": "triggerMatchedPatElectronsPF",
		"name": "basicElectrons",
        	"cut": "abs( eta ) <= 2.4 & pt >= 10" 
    	},
        {   "name": "nonConvertedElectrons",
            "selector": "PATElectronConversionSelector",
            "maxLostHits": 1,
        },
	{	"name": "qualityElectrons",
		"cut": 'pfCandidateRef.mva_e_pi > 0.4' 
    	},
	{	"name": "d0Electrons",
                "srcNames": "src beamSpotSource",
		"selector": "PATElectronD0PVSelector",
                "d0Min": -1.,
		"d0Max": 0.04,
                "dZMin": -1.,
                "dZMax": 1.,
		"beamSpotSource": "(vertices)" 
    	},
	{	"name": "ChargeAgreeElectrons",
		"cut": "isGsfCtfScPixChargeConsistent == 1"
	},
	{	"name": "IsoElectrons",
		"cut": "(chargedHadronIso + photonIso + neutralHadronIso) / pt <= 0.2"
	},
        {       "name": "matchedElectrons",
                "cut": "genParticlesSize != 0"
        },
        {       "name": "chCorrectElectrons",
                "cut": "genLepton.charge == pfCandidateRef.charge",
                "skip": True
        },
        {       "name": "chWrongElectrons",
                "cut": "genLepton.charge != pfCandidateRef.charge",
        },

# PAT Electrons
#===============
    	{	"src": "cleanPatElectronsTriggerMatch",
		"name": "basicElectronsPAT",
        	"cut": "abs( eta ) <= 2.4 & pt >= 10" 
    	},
    	{	"name": "ESeededElectronsPAT",
		"cut": "ecalDrivenSeed",
	},
	{	"name": "d0ElectronsPAT",
                "srcNames": "src beamSpotSource",
		"selector": "PATElectronD0PVSelector",
                "d0Min": -1.,
		"d0Max": 0.02,
#                "dZMin": -1.,
#                "dZMax": 1.,
		"beamSpotSource": "(vertices)" 
    	},
        {       "name": "qualityElectronsPAT",
#                "cut": "electronID( 'eidRobustTight' )"
                "cut": """
                abs(eta) < 1.479
                & (sigmaIetaIeta < 0.01 & deltaPhiSuperClusterTrackAtVtx < 0.06
                & deltaEtaSuperClusterTrackAtVtx < 0.004 & hadronicOverEm < 0.04)
                | abs(eta) > 1.479
                & (sigmaIetaIeta < 0.03 & deltaPhiSuperClusterTrackAtVtx < 0.03
                & deltaEtaSuperClusterTrackAtVtx < 0.007 & hadronicOverEm < 0.025)
                & superCluster.energy > 10
                """
        },
        {   "name": "nonConvertedElectronsPAT",
            "selector": "PATElectronConversionSelector",
            "maxLostHits": 0,
            "convInfo": True,
            "maxDistance": 0.02,
            "maxCotangentTheta": 0.02,
        },
	{	"name": "ChargeAgreeElectronsPAT",
		"cut": "isGsfCtfScPixChargeConsistent == 1"
	},
	{	"name": "IsoElectronsPAT",
		"cut": """
                abs(eta) < 1.479 & (dr03HcalTowerSumEt + dr03EcalRecHitSumEt + dr03TkSumPt)/max(pt, 20.) < 0.1
                | abs(eta) > 1.479 & (dr03HcalTowerSumEt + max(0., (dr03EcalRecHitSumEt -1.)) + dr03TkSumPt)/max(pt, 20.) < 0.1
                """
	},
    	{	"name": "IsoElectrons20PAT",
                "skip": True,
        	"cut": "abs( eta ) <= 2.4 & pt >= 20"
    	},
        {       "name": "matchedElectronsPAT",
                "cut": "genParticlesSize != 0"
        },
        {       "name": "chCorrectElectronsPAT",
                "cut": "genLepton.charge == charge",
                "skip": True
        },
        {       "name": "chWrongElectronsPAT",
                "cut": "genLepton.charge != charge",
        },
],

"taus" : [
   {   "src": "patTaus",
       "name": "basicTaus",
       "cut": "abs( eta ) <= 2.3 & pt >= 15"
   },
   {   "name": "AgainstLightLeptonsTaus",
       "cut": 'tauID("againstMuon") > 0.5 && tauID("againstElectron")>0.5' 
   },
   {   "name": "ChargeOneTaus",
       "cut": 'abs( charge ) == 1.'
   },
   {   "name": "TaNCTaus",
       "cut": 'tauID("byTaNCfrOnePercent") > 0.5' 
   },
   {   "name": "HalfTaNCTaus",
      	"src":"(taus.ChargeOneTaus)",
       "cut": 'tauID("byTaNCfrHalfPercent") > 0.5'
   },
   {   "name": "QuarterTaNCTaus",
   	"src":"(taus.ChargeOneTaus)",
       "cut": 'tauID("byTaNCfrQuarterPercent") > 0.5'
   },
   {   "name": "TenthTaNCTaus",
   	"src":"(taus.ChargeOneTaus)",
       "cut": 'tauID("byTaNCfrTenthPercent") > 0.5'
   },
   {   "name":"matchedParticleTaus",
       "cut": "genParticlesSize != 0"  },
   {   "name": "matchedTaus",
       "selector":"patJetMatchedTauSelector"},
   {   "name": "chCorrectTaus",
       "cut": "genLepton.charge == charge",
       "skip": True},
   {   "name": "chWrongTaus",
       "cut": "genLepton.charge != charge",
   },
   {   "name": "NoTaus",
        "cut": "pt < 0" 
   },
],

"jets" : [
    {   "src": "selectedPatJetsTriggerMatchPF",
        "selector": "resCorrectedJets",
        "name": "CorrJets"
    },
    {	"name": "BaseJets",
        "cut": "abs( eta ) <= 3. & pt >= 30.",
    },
    {   "name": "qualityJets",
        "selector": "patPFJetIDSelector",
    },
    {   "name":"TwoJetFilter",
        "skip": True,
        "selector": "patJetCountFilter",
        "cut": "",
        "minNumber": 2
    },
    {   "name":"HTFilter350",
        "selector": "htJetFilter",
        "skip": True,
        "minHT": "350"
    },
    {   "name":"HTFilter400",
        "selector": "htJetFilter",
        "minHT": "400"
    },
],

"met" : [
	{	"src": "patMETsPF",
		"name": "BaseMET",
		"cut": "pt >= 0."
	},
	{	"name": "METFilter100",
		"cut": "pt >= 100"
	},
	{	"name": "METFilter150",
		"cut": "pt >= 150"
	},
],

"dileptonfilter" : [
	{	"name": "diLeptonFilter",
		"srcNames": "primarySrc secondarySrc tertiarySrc",
		"primarySrc": "(electrons.IsoElectrons)",
		"secondarySrc": "(muons.IsoMuons)",
		"tertiarySrc":"(taus.TaNCTaus)",
		"sameSign": False,
		"method": "inclusive",
		"combinations": ["pp", "ps", "ss"],
	},
	{	"name": "SSEE",
		"srcNames": "primarySrc secondarySrc tertiarySrc",
		"primarySrc": "(electrons.IsoElectrons)",
		"secondarySrc": "(muons.IsoMuons)",
		"tertiarySrc":"(taus.NoTaus)",
		"sameSign": True, "method": "exclusive",
		"strictExclusion": True,
		"combinations": ["pp"],
	},
	{	"name": "SSMuMu",
		"srcNames": "primarySrc secondarySrc tertiarySrc",
		"primarySrc": "(electrons.IsoElectrons)",
		"secondarySrc": "(muons.IsoMuons)",
		"tertiarySrc":"(taus.NoTaus)",
		"sameSign": True, "method": "exclusive",
		"strictExclusion": True,
		"combinations": ["ss"],
	},
	{	"name": "SSETau",
		"srcNames": "primarySrc secondarySrc tertiarySrc",
		"primarySrc": "(electrons.IsoElectrons)",
		"secondarySrc": "(muons.IsoMuons)",
		"tertiarySrc":"(taus.TaNCTaus)",
		"sameSign": True, "method": "exclusive",
		"strictExclusion": True,
		"combinations": ["pt"],
	},
	{	"name": "SSMuTau",
		"srcNames": "primarySrc secondarySrc tertiarySrc",
		"primarySrc": "(electrons.IsoElectrons)",
		"secondarySrc": "(muons.IsoMuons)",
		"tertiarySrc":"(taus.TaNCTaus)",
		"sameSign": True, "method": "exclusive",
		"strictExclusion": True,
		"combinations": ["st"],
	},
	{	"name": "SSTauTau",
		"srcNames": "primarySrc secondarySrc tertiarySrc",
		"primarySrc": "(electrons.IsoElectrons)",
		"secondarySrc": "(muons.IsoMuons)",
		"tertiarySrc":"(taus.TaNCTaus)",
		"sameSign": True, "method": "exclusive",
		"strictExclusion": True,
		"combinations": ["tt"],
	},
	{	"name": "SSEMu",
		"srcNames": "primarySrc secondarySrc tertiarySrc",
		"primarySrc": "(electrons.IsoElectrons)",
		"secondarySrc": "(muons.IsoMuons)",
		"tertiarySrc":"(taus.NoTaus)",
		"sameSign": True, "method": "exclusive",
		"strictExclusion": True,
		"combinations": ["ps"],
	},
	{	"name": "SSanyEMu",
		"srcNames": "primarySrc secondarySrc tertiarySrc",
		"primarySrc": "(electrons.IsoElectrons)",
		"secondarySrc": "(muons.IsoMuons)",
		"tertiarySrc":"(taus.NoTaus)",
		"sameSign": True,
		"method": "inclusive",
		"combinations": ["pp", "ps", "ss"],
	},
	{	"name": "SSanyEMuTau",
		"srcNames": "primarySrc secondarySrc tertiarySrc",
		"primarySrc": "(electrons.IsoElectrons)",
		"secondarySrc": "(muons.IsoMuons)",
		"tertiarySrc":"(taus.TaNCTaus)",
		"sameSign": True,
		"method": "inclusive",
		"combinations": ["pp", "ps", "ss", "pt", "st", "tt"],
	},

	{	"name": "OSEE",
		"srcNames": "primarySrc secondarySrc tertiarySrc",
		"primarySrc": "(electrons.IsoElectrons)",
		"secondarySrc": "(muons.IsoMuons)",
		"tertiarySrc":"(taus.NoTaus)",
		"sameSign": False, "method": "exclusive",
		"strictExclusion": True,
		"combinations": ["pp"],
	},
	{	"name": "OSMuMu",
		"srcNames": "primarySrc secondarySrc tertiarySrc",
		"primarySrc": "(electrons.IsoElectrons)",
		"secondarySrc": "(muons.IsoMuons)",
		"tertiarySrc":"(taus.NoTaus)",
		"sameSign": False, "method": "exclusive",
		"strictExclusion": True,
		"combinations": ["ss"],
	},
	{	"name": "OSEMu",
		"srcNames": "primarySrc secondarySrc tertiarySrc",
		"primarySrc": "(electrons.IsoElectrons)",
		"secondarySrc": "(muons.IsoMuons)",
		"tertiarySrc":"(taus.NoTaus)",
		"sameSign": False, "method": "exclusive",
		"strictExclusion": True,
		"combinations": ["ps"],
	},
	{	"name": "OSETau",
		"srcNames": "primarySrc secondarySrc tertiarySrc",
		"primarySrc": "(electrons.IsoElectrons)",
		"secondarySrc": "(muons.IsoMuons)",
		"tertiarySrc":"(taus.TaNCTaus)",
		"sameSign": False, "method": "exclusive",
		"strictExclusion": True,
		"combinations": ["pt"],
	},
	{	"name": "OSMuTau",
		"srcNames": "primarySrc secondarySrc tertiarySrc",
		"primarySrc": "(electrons.IsoElectrons)",
		"secondarySrc": "(muons.IsoMuons)",
		"tertiarySrc":"(taus.TaNCTaus)",
		"sameSign": False, "method": "exclusive",
		"strictExclusion": True,
		"combinations": ["st"],
	},
	{	"name": "OSTauTau",
		"srcNames": "primarySrc secondarySrc tertiarySrc",
		"primarySrc": "(electrons.IsoElectrons)",
		"secondarySrc": "(muons.IsoMuons)",
		"tertiarySrc":"(taus.TaNCTaus)",
		"sameSign": False, "method": "exclusive",
		"strictExclusion": True,
		"combinations": ["tt"],
	},
	{	"name": "OSanyEMu",
		"srcNames": "primarySrc secondarySrc tertiarySrc",
		"primarySrc": "(electrons.IsoElectrons)",
		"secondarySrc": "(muons.IsoMuons)",
		"tertiarySrc":"(taus.NoTaus)",
		"sameSign": False,
		"method": "inclusive",
		"combinations": ["pp", "ps", "ss"],
	},
	{	"name": "OSanyEMuTau",
		"srcNames": "primarySrc secondarySrc tertiarySrc",
		"primarySrc": "(electrons.IsoElectrons)",
		"secondarySrc": "(muons.IsoMuons)",
		"tertiarySrc":"(taus.TaNCTaus)",
		"sameSign": False,
		"method": "inclusive",
		"combinations": ["pp", "ps", "ss", "pt", "st", "tt"],
	},
]

}
